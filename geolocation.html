<div class="container" >
	<div class="row">
		<div class="col-md-8">
			<pre style="margin-bottom: 10px; background: hsl(30, 20%, 25%); " >
			<code class="language-css" style="color:#fff; font-size:15px; text-shadow: none;">
		
 /*===============================================*/
 /*  	获取当前地理坐标
 /*===============================================*/
	function geolocation( success ){
  		if( navigator.geolocation ){
			navigator.geolocation.getCurrentPosition(

				function(position){
					var coords = position.coords;
					var longitude = coords.longitude;
					var latitude = coords.latitude;
					document.getElementById('geolocationMap').innerHTML = '经度：'+longitude +'纬度：'+latitude;
					if( success ){
						success(longitude, latitude);
					}
				},
				
				function( error ){
					var msg = '';
					switch( error.code ){
						case 1 : 
							msg = '用户拒绝了位置服务';
							break;
						case 2:
							msg = '获取不到位置信息';
							break;
						case 3:
							msg = '获取信息超时错误'；
							break;
						default:
							msg = 'code :'+error.code + 'msg:'+ error.message;
					}

					//显示错误信息
					document.getElementById('geolocationMap').innerHTML = msg;
				}
			,null)
		
		}else{
			document.getElementById('geolocationMap').innerHTML = '获取当前地理坐标失败';
		}
	}	
	

				</code>
			</pre>
	</div>
		<div class="col-md-4">
			<pre style="margin-bottom: 10px; background: hsl(30, 20%, 25%); ">
				<code class="language-css" style="color:#fff; font-size:15px; text-shadow: none;">
	代码说明：
	
	&lt;div id="geolocationMap"&gt;
		正在获取地理位置...
	&lt;/div&gt;
	&lt;div id="viewMap"&gt;

	&lt;/div&gt;
	

	使用：
	geolocation(function(longitude, latitude){
		var viewMap = new BMap.Map('viewMap');  //创建实例

		//初始化地图，设置中心坐标何地图级别
		viewMap.centerAndZoom( new BMap.Point(longitude, latitude), 17 );

		//启用滚轮放大缩小
		viewMap.enableScrollWheelZoom();
	});

	
				</code>
			</pre>98
		</div>

		<button class="btn pull-right"  ui-sref="index" style="background: hsl(30, 20%, 25%); color:#fff;margin-bottom:10px; margin-right: 15px;">返回</button>
	</div>
	
	
</div>
	

