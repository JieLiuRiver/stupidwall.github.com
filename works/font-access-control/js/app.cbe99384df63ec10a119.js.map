{"version":3,"sources":["webpack:///./src/bus.js","webpack:///src/views/abstract.vue","webpack:///./src/views/abstract.vue?35a0","webpack:///./src/views/abstract.vue","webpack:///./src/router/fullpath.js","webpack:///src/App.vue","webpack:///./src/App.vue?e555","webpack:///./src/App.vue","webpack:///./src/components/HelloWorld.vue?3d5b","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/api/index.js","webpack:///./src/model/app.js","webpack:///./src/model/base.js"],"names":["__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","data","resourcePermission","menuTreeRoutes","hashMenus","allowedRouters","username","myInterceptor","methods","selectortype_template_index_0_src_views_abstract","render","_h","this","$createElement","_c","_self","staticRenderFns","src_views_abstract","__webpack_require__","normalizeComponent","path","name","component","resolve","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","bind","catch","oe","children","meta","icon","appInstance","app","App","_this","verifyToken","getAuthDataByToken","resVerifyToken","token","res","resources","api","menus","readyRouters","cb","_this2","init","selectortype_template_index_0_src_App","attrs","id","src_App","ssrContext","components_HelloWorld","staticClass","_v","_s","msg","_m","href","target","HelloWorld_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","iview_default","a","directive","el","binding","prototype","$_has","value","parentNode","removeChild","h","axiosInstance","create","baseURL","timeout","defaults","headers","post","interceptors","response","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","reject","app_AppModel","AppModel","classCallCheck_default","possibleConstructorReturn_default","__proto__","get_prototype_of_default","call","params","get","BaseModel","key","lsVal","sessionStorage","getItem","indexOf","JSON","parse","split","typeof_default","Array","isArray","stringify_default","setItem","clear","localToken","handleSession","getAdminAuthData","Authorization","getUserAuthData","forEach","i","method","toLowerCase","url","arr","ckey","base","menuData","indexKeys","map","findIndex","push","clone","findChildren","parentArr","length","node","array","route","hashKey","replace","switchHashMenus","request","config","perName","pop","iview","error","promise_default","message","routers","replyResult","find","b","filter","r","fullpath","addBeforeEnter","subr","beforeEnter","to","from","next","btnpermisses","has","btn","source","sourceCopy","item"],"mappings":"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","file":"works/font-access-control/js/app.cbe99384df63ec10a119.js","sourcesContent":["import Vue from 'vue'\nimport axios from 'axios'\nexport default new Vue({\n\tdata() {\n\t\treturn {\n\t\t\t// 资源权限对象\n\t\t\tresourcePermission: null,\n\t\t\t// 菜单数据\n\t\t\tmenuTreeRoutes:[],\n\t\t\t// 用这个对象方便检查权限\n\t\t\thashMenus: {},\n\t\t\tallowedRouters: [],\n\t\t\tusername: '',\n\t\t\tmyInterceptor: null\n\t\t}\n\t},\n\tmethods: {\n\t\t\n\t}\n\n})\n\n\n// WEBPACK FOOTER //\n// ./src/bus.js","<template>\n\t<div>\n\t\t<router-view />\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/abstract.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-26c5c0fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.6.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/abstract.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./abstract.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./abstract.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26c5c0fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=template&index=0!./abstract.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/abstract.vue\n// module id = null\n// module chunks = ","import Abstract from '../views/abstract.vue';\n\nexport default [{\n  path: '/home',\n  name: 'home',\n  component: (resolve) => require(['../views/index.vue'], resolve),\n  children: [\n    {\n      path: 'roles',\n      name: 'roles',\n      meta: {\n        name: '角色管理'\n      },\n        component: (resolve) => require(['../views/roles.vue'], resolve)\n    }, \n    {\n      path: 'accounts',\n      name: 'accounts',\n      meta: {\n        name: '账号管理'\n      },\n      component: (resolve) => require(['../views/accounts.vue'], resolve)\n    },\n    {\n      path: 'goods',\n      name: 'goods',\n      meta: {\n        icon: '&#xe62e;',\n        name: '商品管理'\n      },\n      component: Abstract,\n      children: [{\n        path: 'goods-list',\n        name: 'goods-list',\n        meta: {\n          name: '商品信息'\n        },\n        component: (resolve) => require(['../views/goods-list.vue'], resolve)\n      }]\n    }\n  ]\n}]\n\n\n// WEBPACK FOOTER //\n// ./src/router/fullpath.js","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport Bus from './bus'\nimport AppModel from './model/app'\nimport fullRouters from './router/fullpath'\nimport axiosInstance from '@/api'\nconst appInstance = new AppModel()\n//请求拦截句柄\nlet myInterceptor;\nexport default {\n  name: 'app',\n  data() {\n    return {\n\n    }\n  },\n  methods: {\n    init(cb) {\n      const resVerifyToken = appInstance.verifyToken()\n      if (!resVerifyToken) {\n        this.$router.push({name: 'login'})\n      } else {\n        appInstance\n            .getAuthDataByToken(resVerifyToken.token)\n            .then(res => {\n              Bus.username = res.data.name\n              Bus.resourcePermission = appInstance.assembleResource(res.data.resources)\n              Bus.myInterceptor = appInstance.setInterceptor(Bus.resourcePermission, axiosInstance)\n              console.log('myInterceptor', Bus.myInterceptor)\n\n              Bus.menuTreeRoutes = appInstance.assembleTreeRoutesByMenus(res.data.menus)\n              Bus.hashMenus = appInstance.switchHashMenus(Bus.hashMenus, Bus.menuTreeRoutes)\n              //全局挂载hashMenus\n              this.$root.hashMenus = Bus.hashMenus\n              Bus.allowedRouters = appInstance.getAllowedRouters(fullRouters[0].children, Bus.allowedRouters, Bus.hashMenus)\n              appInstance.extendRouters(Bus.allowedRouters, Bus.hashMenus)\n                .then(readyRouters => {\n                    console.log('readyRouters', readyRouters)\n                    this.$router.addRoutes(readyRouters)\n                    appInstance.addHasMethods(Bus.resourcePermission)\n                    cb && cb()\n                })\n                .catch(e => {console.log('error');this.$router.push({name: 'login'})})\n            })\n      }\n    }\n  },\n  created() {\n    this.init();\n    Bus.$on('on-after-login-success', e => {\n      axiosInstance.interceptors.request.eject(Bus.myInterceptor)\n      this.init(() => {\n        this.$router.push('home')\n      })\n    })\n  }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-dad545be\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.6.2@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.6.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dad545be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.6.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dad545be\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('h2',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"Core Docs\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"Forum\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"Community Chat\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\"}},[_vm._v(\"Twitter\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuejs-templates.github.io/webpack/\",\"target\":\"_blank\"}},[_vm._v(\"Docs for This Template\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"http://router.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"vue-router\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuex.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"vuex\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vue-loader.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"vue-loader\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\"}},[_vm._v(\"awesome-vue\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-651ad60c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.6.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-651ad60c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-651ad60c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.6.2@vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-651ad60c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n    <ul>\n      <li><a href=\"https://vuejs.org\" target=\"_blank\">Core Docs</a></li>\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\">Forum</a></li>\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\">Community Chat</a></li>\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\">Twitter</a></li>\n      <br>\n      <li><a href=\"http://vuejs-templates.github.io/webpack/\" target=\"_blank\">Docs for This Template</a></li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li><a href=\"http://router.vuejs.org/\" target=\"_blank\">vue-router</a></li>\n      <li><a href=\"http://vuex.vuejs.org/\" target=\"_blank\">vuex</a></li>\n      <li><a href=\"http://vue-loader.vuejs.org/\" target=\"_blank\">vue-loader</a></li>\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\">awesome-vue</a></li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n\t  path: '/login',\n\t  name: 'login',\n\t  component: (resolve) => require(['../views/login.vue'], resolve)\n\t}, \n\t{\n\t  path: '/401',\n\t  name: '401',\n\t  component: (resolve) => require(['../views/401.vue'], resolve)\n\t}, \n\t{\n\t  path: '/404',\n\t  name: '404',\n\t  component: (resolve) => require(['../views/404.vue'], resolve)\n\t}\n  ]\n})\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\nimport iView from 'iview';\nimport App from './App.vue';\nimport router from './router';\nimport 'iview/dist/styles/iview.css';\n\nVue.use(iView);\n\n//权限指令\n\nVue.directive('has', {\n  bind: function(el, binding) {\n    if (!Vue.prototype.$_has(binding.value)) {\n      el.parentNode.removeChild(el);\n    }\n  }\n});\n\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(App)\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios';\n\nconst axiosInstance = axios.create({\n  baseURL: 'http://rap2api.taobao.org/app/mock/3358',\n  // 如果请求话费了超过 `timeout` 的时间，请求将被中断\n  timeout: 10000\n});\n// 内容类型，一般是指网页中存在的Content-Type，用于定义网络文件的类型和网页的编码，决定浏览器将以什么形式、什么编码读取这个文件\naxiosInstance.defaults.headers.post['Content-Type'] = 'application/json'\naxiosInstance.interceptors.response.use(response => response, e => Promise.reject(e))\n\nexport default axiosInstance;\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","\nimport BaseModel from './base'\nimport axiosInstance from '@/api'\nexport default class AppModel extends BaseModel {\n\tconstructor() {\n\t\tsuper()\n\t}\n\t\n\t// 获取管理员token\n\tg_adminToken(params) {\n\t\treturn axiosInstance.get(`GET/v1/admin/token`, {params})\n\t}\n\n\t// 获取用户token\n\tg_userToken(params) {\n\t\treturn axiosInstance.get(`GET/v1/user/token`, {params})\n\t}\n\n\t// 越权请求测试\n\tnoallowRequest(params) {\n\t\treturn axiosInstance.get(`GET/v1/admin/roles`, {params})\n\t}\n\n\t// 允许请求测试\n\tallowRequest(params) {\n\t\treturn axiosInstance.get(`GET/v1/user/goodlist`, {params})\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/app.js","\nimport axios from 'axios'\nimport Vue from 'vue'\nimport { Message } from 'iview'\nimport fullRouters from '../router/fullpath'\nimport axiosInstance from '@/api'\n\nexport default class BaseModel {\n\tconstructor() {\n\t\t\n\t}\n\n\t// sessionStorage 获取token或者存token\n\thandleSession(key, value) {\n\t\tif (!!key && value === void(0)) {\n\t\t\tvar lsVal = sessionStorage.getItem(key);\n\t\t    if(lsVal && lsVal.indexOf('autostringify-') === 0 ){\n\t\t      return JSON.parse(lsVal.split('autostringify-')[1])\n\t\t    }else{\n\t\t      return lsVal\n\t\t    }\n\t\t} else if (!!key && !!value) {\n\t\t\tif (typeof(value)===\"object\" || Array.isArray(value)) {\n\t\t      value = 'autostringify-' + JSON.stringify(value)\n\t\t    }\n\t\t    return sessionStorage.setItem(key, value)\n\t\t} else if (!key && !value) {\n\t\t\tsessionStorage.clear()\n\t\t}\n\t}\n\n\t// 验证token\n\tverifyToken(cb) {\n\t\tlet localToken = this.handleSession('token')\n\t\tif (!localToken || !localToken.token) {\n\t\t\treturn false\t\n\t\t} else {\n\t\t\treturn localToken\n\t\t}\n\t}\n\n\n\t// 获取登录者所拥有的菜单数据和资源数据\n\tasync getAuthDataByToken(token) {\n\t\tlet res = null\n\t\tif (token.indexOf('admin') !== -1) {\n\t\t\tres = await this.getAdminAuthData({Authorization: token})\n\t\t} else if (token.indexOf('user') !== -1) {\n\t\t\tres = await this.getUserAuthData({Authorization: token})\n\t\t}\n\t\treturn res\n\t}\n\n\t// 获取管理员菜单数据和资源数据\n\tgetAdminAuthData(params) {\n\t\treturn axiosInstance.get(`GET/v1/admin/authdata`, {params})\n\t}\n\n\t// 获取用户菜单数据和资源数据\n\tgetUserAuthData(params) {\n\t\treturn axiosInstance.get(`GET/v1/user/authdata`, params)\n\t}\n\n\t// 根据资源数据组装成资源权限对象\n\tassembleResource(resources) {\n\t\tlet resourcePermission = {};\n      \tif (Array.isArray(resources)) {\n\t        resources.forEach(function(e, i) {\n\t          let key = e.method.toLowerCase() + ',' + e.url;\n\t          resourcePermission[key] = true;\n\t        });\n      \t}\n      \treturn resourcePermission\n\t}\n\n\t// 根据菜单数据，组装成树形数据\n\tassembleTreeRoutesByMenus(arr, ckey) {\n\t\t  const base = this\n\t\t  let menuData = [];\n\t\t  let indexKeys = Array.isArray(arr) ? arr.map((e) => {return e.id}) : [];\n\t\t  ckey = ckey || 'parent_id';\n\t\t  arr.forEach(function (e, i) {\n\t\t    //一级菜单\n\t\t    if (!e[ckey] || (e[ckey]===e.id)) {\n\t\t      delete e[ckey];\n\t\t      menuData.push(base.clone(e)); //深拷贝\n\t\t    }else if(Array.isArray(indexKeys)){\n\t\t      //检测ckey有效性\n\t\t      let parentIndex = indexKeys.findIndex(function(id){\n\t\t        return id == e[ckey];\n\t\t      });\n\t\t      if(parentIndex===-1){\n\t\t        menuData.push(e);\n\t\t      }\n\t\t    }\n\t\t  });\n\t\t  let findChildren = function (parentArr) {\n\t\t    if (Array.isArray(parentArr) && parentArr.length) {\n\t\t      parentArr.forEach(function (parentNode) {\n\t\t        arr.forEach(function (node) {\n\t\t          if (parentNode.id === node[ckey]) {\n\t\t            if (parentNode.children) {\n\t\t              parentNode.children.push(node);\n\t\t            } else {\n\t\t              parentNode.children = [node];\n\t\t            }\n\t\t          }\n\t\t        });\n\t\t        if (parentNode.children) {\n\t\t          findChildren(parentNode.children);\n\t\t        }\n\t\t      });\n\t\t    }\n\t\t  };\n\t\t  findChildren(menuData);\n\t\t  return menuData;\n\t}\n\n\n\t// 根据树形菜单数据组装成hashmenu对象 \n\t/*\n\t\t{\n\t\t\t\"roles\": true\n\t\t}\n\t*/\n\tswitchHashMenus(hashMenus, array, base) {\n\t\tarray.forEach(key => {\n          if (key.route) {\n            let hashKey = (key.route).replace(/^\\//, '');\n            hashMenus[hashKey] = true;\n            if (Array.isArray(key.children) && key.children.length) {\n              this.switchHashMenus(hashMenus, key.children);\n            }\n          }\n        })\n        return hashMenus\n\t}\n\n\t// 根据资源权限对象设置请求拦截\n\tsetInterceptor(resourcePermission, axiosInstance) {\n\t\tlet vm = this;\n\t    return axiosInstance.interceptors.request.use(function(config) {\n\t        //得到类权限路径\n\t        let perName = config.url.replace(config.baseURL, '').replace('GET/v1/','').replace('POST/v1/','').split('?')[0];\n\t        \n\t        //匹配权限\n\t        if (perName.split('/').pop() === 'token') {\n\t        \treturn config;\n\t        } else {\n\t\t        if (!resourcePermission[config.method + ',' + perName]) {\n\t\t          Message.error('无访问权限，请联系企业管理员');\n\t\t          return Promise.reject({\n\t\t            message: 'no permission'\n\t\t          });\n\t\t        }\n\t\t        return config;\n\t        }\n\t    });\n\t}\n\n\t// 匹配出待动态注册的路由数据\n\tgetAllowedRouters(routers, replyResult, hashMenus, base){\n\t    let _routers = this.clone(routers)\n        function find(routers, b) {\n\t    \trouters = routers.filter((r, i) => hashMenus[r.name])\n\t    \trouters.forEach(r => {\n\t    \t\tif (Array.isArray(r.children) && r.children.length) {\n\t    \t\t\tr.children = find(r.children)\n\t    \t\t}\n\t    \t})\n\t    \treturn routers\n    \t}\n        return find(_routers)\n\t}\n\n\n\t// 扩展路由\n\textendRouters(routers, hashMenus) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!routers || !routers.length) {\n\t          this.handleSession('token','')\n\t          reject(false)\n\t        }\n\t        let readyRouters = this.clone(fullRouters)\n\t        routers.map(e => addBeforeEnter)\n\t        routers.forEach(r => {\n\t        \taddBeforeEnter(r)\n\t        })\n\t        function addBeforeEnter(r){\n\t        \tif (Array.isArray(r.children) && r.children.length) {\n\t        \t\tr.children.forEach(subr => {\n\t        \t\t\taddBeforeEnter(subr)\n\t        \t\t})\n\t        \t}\n\t\t        return r.beforeEnter = function(to, from, next){\n\t\t          if(hashMenus[to.name]){\n\t\t            next()\n\t\t          }else{\n\t\t            next('/401')\n\t\t          }\n\t\t        }\n\t\t    }\n\t        readyRouters[0].children = routers\n\t        resolve(readyRouters)\n\t\t})\n\t}\n\n\t// 添加$_has方法\n\taddHasMethods(resourcePermission) {\n\t\tVue.prototype.$_has = btnpermisses => {\n          let has = true\n          if (Array.isArray(btnpermisses)) {\n            btnpermisses.forEach(btn => {\n              if (!resourcePermission[btn]) {\n                has = false\n              }\n            })\n          } else if (typeof btnpermisses === 'string') {\n            if (!resourcePermission[btnpermisses]) {\n              has = false\n            }\n          }\n          return has\n        }\n\t}\n\n\t// 深度克隆\n\tclone(source) {\n\t\t  if (!source) {\n\t\t    return source;\n\t\t  }\n\t\t  let sourceCopy = source instanceof Array ? [] : {};\n\t\t  for (let item in source) {\n\t\t    sourceCopy[item] = typeof source[item] === 'object' ? this.clone(source[item]) : source[item];\n\t\t  }\n\t\t  return sourceCopy;\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/base.js"],"sourceRoot":""}