webpackJsonp([1],{"0L0T":function(e,n){},Quw4:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=r("lC5x"),s=r.n(t),a=r("J0Oq"),o=r.n(a),i=r("sUQS"),l=r("14gb"),u=new i.a,m={data:function(){return{formInline:{username:"admin",password:"sfsdfsdf"},ruleInline:{user:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"密码长度最小6位数",trigger:"blur"}]}}},created:function(){u.handleSession()},methods:{handleSubmit:function(e){var n=this;this.$refs[e].validate(function(e){e&&n.loginAjax()})},loginAjax:function(){var e=this;return o()(s.a.mark(function n(){var r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=null,"admin"!==e.formInline.username){n.next=7;break}return n.next=4,u.g_adminToken(e.formInline);case 4:r=n.sent,n.next=15;break;case 7:if("user"!==e.formInline.username){n.next=13;break}return n.next=10,u.g_userToken(e.formInline);case 10:r=n.sent,n.next=15;break;case 13:return console.log("重新登录"),n.abrupt("return");case 15:r.data.token&&(u.handleSession("token",r.data),l.a.$emit("on-after-login-success"));case 16:case"end":return n.stop()}},n,e)}))()}}},c={render:function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"login-wrapper"},[r("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline}},[r("FormItem",[r("h1",{staticStyle:{"text-align":"center"}},[e._v("前端权限控制")])]),e._v(" "),r("FormItem",{attrs:{prop:"username"}},[r("Input",{staticStyle:{width:"300px"},attrs:{readonly:"",type:"text",size:"large",placeholder:"账号"},model:{value:e.formInline.username,callback:function(n){e.$set(e.formInline,"username",n)},expression:"formInline.username"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{staticStyle:{width:"300px"},attrs:{readonly:"",type:"password",size:"large",placeholder:"密码"},model:{value:e.formInline.password,callback:function(n){e.$set(e.formInline,"password",n)},expression:"formInline.password"}},[r("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:function(n){e.handleSubmit("formInline")}}},[e._v("登录")])],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"admin"===e.formInline.username?"primary":"text",size:"small"},on:{click:function(n){e.formInline.username="admin"}}},[e._v("管理员登录")]),e._v(" "),r("Button",{attrs:{type:"user"===e.formInline.username?"primary":"text",size:"small"},on:{click:function(n){e.formInline.username="user"}}},[e._v("用户登录")])],1)],1)],1)},staticRenderFns:[]};var p=r("8AGX")(m,c,!1,function(e){r("0L0T")},null,null);n.default=p.exports}});
//# sourceMappingURL=1.d7a5a1227014fb68e98d.js.map